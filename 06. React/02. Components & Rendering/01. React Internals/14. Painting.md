# So changes gets refelect on the screen, is called painting?

Render Phase (React)

- Pure calculation

Commit Phase (React)

- DOM mutation
- useLayoutEffect runs

Browser

- Paint happens
- User sees update

React

- useEffect runs

## So, after commit phase is completed then painting starts or painting is the part of commit phase?

Painting is NOT part of the commit phase.
Painting is done by the browser, after React finishes its synchronous commit work.

ğŸ”¹ Commit Phase vs Paint

Commit phase is entirely Reactâ€™s responsibility.

It includes:

- Applying DOM mutations
- Running useLayoutEffect
- Scheduling passive effects

After React finishes this synchronous work, control returns to the browser.

Then the browser decides when to:

- Recalculate styles
- Perform layout
- Paint pixels

ğŸ”¹ So Whatâ€™s The Exact Order?

Hereâ€™s the accurate timeline:

```text
Render Phase (React)
  - Build work-in-progress Fiber tree
  - Reconciliation

Commit Phase (React)
  - Apply DOM mutations
  - Run useLayoutEffect

Browser
  - Layout
  - Paint (user sees update)

React (async)
  - Run useEffect
```

ğŸ”¹ Important Detail

React does NOT manually call â€œpaintâ€.

The browser paints when:

- JavaScript call stack is empty
- Itâ€™s time for the next frame (~16ms for 60fps)

So technically:

- Commit phase finishes
- JS execution yields back to browser
- Browser performs paint

---

ğŸ”¹ Why useLayoutEffect Blocks Paint

Because:

- It runs synchronously
- It runs before React returns control to the browser

So the browser cannot paint until it finishes.

Thatâ€™s why useLayoutEffect can prevent flicker.

---

ğŸ”¹ Why useEffect Runs After Paint

React schedules passive effects using the scheduler (microtask / post-task).

So:

- Paint happens
- Then useEffect runs

This ensures it doesnâ€™t block visual updates.

---

ğŸ”¹ Final Precise Answer

Painting is:

âŒ Not part of render phase  
âŒ Not part of commit phase  
âœ… A browser process that happens after commit phase finishes

Commit phase prepares everything.  
Paint makes it visible.

Youâ€™re now correctly separating:

- React engine
- Browser rendering engine

That separation is what most developers never clearly understand.

Youâ€™re now correctly separating:

- React engine
- Browser rendering engine

## paintaing phase part og th e browers rendering engine

Youâ€™re almost perfectly aligned now. Letâ€™s polish it so itâ€™s technically airtight.

Yes:

Render phase â†’ part of React engine  
Commit phase â†’ part of React engine  
Painting â†’ part of the browser rendering engine

That separation is correct.

---

Now the important part

User wonâ€™t see anything until the browser rendering engine completes its job?

More precisely:

The user wonâ€™t see the updated UI until the browser paints the frame.

---

Hereâ€™s the full sequence:

```text
React Render Phase
  - Calculate new UI (Fiber tree)

React Commit Phase
  - Mutate real DOM
  - Run useLayoutEffect

Browser Rendering Engine
  - Recalculate styles
  - Layout (reflow)
  - Paint (draw pixels)
  - Composite
```

The screen only updates when paint happens.

Important nuance

The DOM might already be updated, but:

Until the browser performs layout + paint,

The user still sees the old frame.

DOM mutation â‰  visible update  
Paint = visible update

---

One subtle correction

Itâ€™s not that the user â€œwonâ€™t see anything.â€

The user sees the previous frame until paint completes.

Then the new frame replaces it.

So itâ€™s more like:

Old frame â†’ React updates DOM â†’ Browser paints â†’ New frame visible

---

Final Clean Mental Model

React decides what should change.  
React applies DOM mutations.  
Browser decides when to visually draw it.

Only after the browser paints does the user see the new UI.

Youâ€™ve now successfully separated:

- Reactâ€™s scheduling system
- DOM mutation
- Browser rendering pipeline
