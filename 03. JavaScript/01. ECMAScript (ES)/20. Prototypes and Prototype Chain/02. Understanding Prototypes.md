# Understanding Prototypes

Prototypes are the foundation of JavaScript's object model. Every object in JavaScript has a prototype (except `Object.create(null)`).

---

## What is a Prototype?

A **prototype** is an object that serves as a template for other objects. When you access a property or method on an object, JavaScript first looks on the object itself, then follows the prototype chain.

---

## Internal Property: `[[Prototype]]`

Every object has an internal `[[Prototype]]` property that points to its prototype object.

```javascript
const obj = {};
// obj has [[Prototype]] pointing to Object.prototype
```

---

## Accessing Prototypes

### Modern Methods

```javascript
const obj = {};

// Get prototype
Object.getPrototypeOf(obj); // Object.prototype

// Set prototype (use with caution - performance impact)
const proto = { x: 1 };
Object.setPrototypeOf(obj, proto);
```

### Legacy Accessor: `__proto__`

```javascript
const obj = {};
obj.__proto__; // Object.prototype (deprecated but widely used)

// Setting
obj.__proto__ = { x: 1 }; // Not recommended
```

**Note:** `__proto__` is deprecated. Use `Object.getPrototypeOf()` and `Object.setPrototypeOf()` instead.

---

## Object.prototype

`Object.prototype` is the root prototype. Almost all objects inherit from it:

```javascript
const obj = {};
Object.getPrototypeOf(obj) === Object.prototype; // true

// Object.prototype methods available on all objects:
obj.toString(); // From Object.prototype
obj.valueOf(); // From Object.prototype
obj.hasOwnProperty(); // From Object.prototype
```

---

## Creating Objects with Prototypes

### 1. Object Literal

```javascript
const obj = {};
// Prototype: Object.prototype
```

### 2. Object.create()

```javascript
const proto = { x: 1 };
const obj = Object.create(proto);
// Prototype: proto
```

### 3. Constructor Function

```javascript
function Person(name) {
  this.name = name;
}
const person = new Person("John");
// Prototype: Person.prototype
```

### 4. Class

```javascript
class Person {
  constructor(name) {
    this.name = name;
  }
}
const person = new Person("John");
// Prototype: Person.prototype
```

---

## Key Points

1. **Every object has a prototype** (except `Object.create(null)`)
2. **Prototypes are objects** themselves
3. **Prototype chain ends at `null`**
4. **Properties are looked up through the chain**
5. **Setting properties always sets on the object itself**, not the prototype

---

## Related Topics

- [03. Prototype Chain.md](./03.%20Prototype%20Chain.md) - How property lookup works
- [04. Object.create().md](<./04.%20Object.create().md>) - Creating with prototypes
- [05. Object.getPrototypeOf() and Object.setPrototypeOf().md](<./05.%20Object.getPrototypeOf()%20and%20Object.setPrototypeOf().md>) - Prototype access
