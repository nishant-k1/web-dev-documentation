# âœ… Must-Know `Map` Object

`Map` is a collection of key-value pairs where **keys can be any type** (not just strings like objects). ES6 feature.

---

## Creating Map

```js
// Empty Map
const map = new Map();

// From array of [key, value] pairs
const map = new Map([
  ["name", "John"],
  [1, "one"],
  [true, "yes"],
  [{ id: 1 }, "object key"], // Object as key!
]);

// From existing Map
const map2 = new Map(map);
```

---

## Map Methods

| Method                | Description            | Returns                |
| --------------------- | ---------------------- | ---------------------- |
| `map.set(key, value)` | Sets value for key     | `Map` (chainable)      |
| `map.get(key)`        | Gets value for key     | `value` or `undefined` |
| `map.has(key)`        | Checks if key exists   | `boolean`              |
| `map.delete(key)`     | Removes key-value pair | `boolean`              |
| `map.clear()`         | Removes all entries    | `undefined`            |
| `map.size`            | Number of entries      | `number`               |

---

## Iteration Methods

| Method            | Description                    | Returns       |
| ----------------- | ------------------------------ | ------------- |
| `map.keys()`      | Iterator of keys               | `MapIterator` |
| `map.values()`    | Iterator of values             | `MapIterator` |
| `map.entries()`   | Iterator of [key, value] pairs | `MapIterator` |
| `map.forEach(cb)` | Iterates over entries          | `undefined`   |

---

## Examples

```js
const map = new Map();

// Set values (any key type!)
map.set("name", "John");
map.set(1, "one");
map.set(true, "yes");
map.set({ id: 1 }, "object key");

// Get values
map.get("name"); // 'John'
map.get("unknown"); // undefined

// Check existence
map.has("name"); // true

// Size
map.size; // 4

// Iteration
for (const [key, value] of map) {
  console.log(key, value);
}

map.forEach((value, key) => {
  console.log(key, value);
});

// Convert to array
Array.from(map.keys()); // ['name', 1, true, { id: 1 }]
Array.from(map.values()); // ['John', 'one', 'yes', 'object key']
Array.from(map.entries()); // [['name', 'John'], [1, 'one'], ...]
```

---

## Map vs Object

| Feature           | Map                            | Object                     |
| ----------------- | ------------------------------ | -------------------------- |
| **Key Types**     | Any type                       | String or Symbol           |
| **Size**          | `map.size`                     | Must calculate manually    |
| **Iteration**     | Directly iterable              | Need `Object.keys()` etc.  |
| **Default Keys**  | No default keys                | Has prototype chain        |
| **Performance**   | Better for frequent add/delete | Better for frequent access |
| **Serialization** | Not JSON serializable          | JSON serializable          |
| **Use Case**      | Dynamic key-value collections  | Static structure           |

---

## Common Use Cases

### 1. Counting Occurrences

```js
const countMap = new Map();
arr.forEach((item) => {
  countMap.set(item, (countMap.get(item) || 0) + 1);
});
```

### 2. Caching/Memoization

```js
const cache = new Map();
function fibonacci(n) {
  if (cache.has(n)) return cache.get(n);
  const result = n <= 1 ? n : fibonacci(n - 1) + fibonacci(n - 2);
  cache.set(n, result);
  return result;
}
```

### 3. Object as Key

```js
const metadata = new Map();
const user = { id: 1 };
metadata.set(user, { lastLogin: Date.now() });
metadata.get(user); // { lastLogin: ... }

// Object reference is preserved
const sameUser = user;
metadata.get(sameUser); // Works! (same reference)
```

### 4. Dictionary/Lookup

```js
const translations = new Map([
  ["hello", "hola"],
  ["world", "mundo"],
  ["goodbye", "adiÃ³s"],
]);

translations.get("hello"); // "hola"
```

---

## Interview Common Questions

### Q: When to use Map vs Object?

**Use Map when:**

- Keys are not strings
- Need to track size easily
- Frequently adding/removing entries
- Need guaranteed insertion order

**Use Object when:**

- String keys only
- Need JSON serialization
- Static structure
- Using as record/struct

### Q: Can Map have objects as keys?

Yes! Object equality is by reference, so the same object reference works.

```js
const map = new Map();
const key1 = { id: 1 };
const key2 = { id: 1 }; // Different object

map.set(key1, "value1");
map.get(key1); // "value1"
map.get(key2); // undefined (different reference)
```

### Q: How to convert Map to Object?

```js
const map = new Map([
  ["a", 1],
  ["b", 2],
]);
const obj = Object.fromEntries(map); // { a: 1, b: 2 }
```

### Q: How to convert Object to Map?

```js
const obj = { a: 1, b: 2 };
const map = new Map(Object.entries(obj)); // Map(2) { 'a' => 1, 'b' => 2 }
```

---

ðŸ“– **See Also:**

- [03. Special Types (Map, Set, WeakMap, WeakSet)](<../../04.%20Data%20Types/03.%20Special%20Types%20(Map,%20Set,%20WeakMap,%20WeakSet).md>) for comprehensive Map documentation
- [18. WeakMap.md](./18.%20WeakMap.md) for WeakMap
