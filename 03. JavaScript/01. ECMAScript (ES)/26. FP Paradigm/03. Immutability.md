# FP Core Principles: Immutability

- It means not changing the data/state.

---

## What is Immutability?

Immutability means that once data is created, it cannot be changed. Instead of modifying existing data, you create new data structures with the desired changes.

---

## Example

```javascript
const obj = { name: "Andrei" };
function clone(obj) {
  return { ...obj }; // this is pure. no mutation is happening to obj, instead new clone of obj has been created.
}
obj.name = "Nana"; // mutation is happening to obj
```

---

## Benefits of Immutability

1. **Predictability**: Data doesn't change unexpectedly
2. **Debugging**: Easier to track changes and find bugs
3. **Concurrency**: Safe for parallel processing
4. **Time Travel**: Can track state history
5. **Referential Equality**: Easier to detect changes

---

## Immutability in JavaScript

### Primitives are Immutable

```js
let str = "hello";
str.toUpperCase(); // Returns new string, doesn't modify original
console.log(str); // "hello" (unchanged)
```

### Objects and Arrays are Mutable

```js
// ❌ Mutation
const arr = [1, 2, 3];
arr.push(4); // Mutates original array

// ✅ Immutability
const newArr = [...arr, 4]; // Creates new array
```

---

## Techniques for Immutability

### 1. Spread Operator

```js
// Objects
const newObj = { ...oldObj, newProp: "value" };

// Arrays
const newArr = [...oldArr, newItem];
```

### 2. Array Methods

```js
// Non-mutating methods
arr.map((x) => x * 2); // Returns new array
arr.filter((x) => x > 0); // Returns new array
arr.slice(); // Returns new array
```

### 3. Object.assign()

```js
const newObj = Object.assign({}, oldObj, { newProp: "value" });
```

### 4. Deep Cloning

```js
// For nested structures
const deepCopy = structuredClone(obj);
// or
const deepCopy = JSON.parse(JSON.stringify(obj));
```

---

## Interview Points

- Immutability prevents accidental data mutations
- JavaScript primitives are immutable, but objects/arrays are mutable
- Use spread operator, `map()`, `filter()`, etc. to create new data
- Immutability is crucial for React state management and Redux
- Helps with performance optimization through referential equality checks
