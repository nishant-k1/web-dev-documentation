# OOP Patterns: Factory Pattern

The **Factory Pattern** is a creation design pattern where a **function (factory)** is used to **create and return new objects**, without using the `new` keyword or constructor functions.

---

## âœ… What is the Factory Pattern?

> A **factory function** is a regular function that returns a new object. It avoids the use of `new` and `this`, and can encapsulate logic using closures.

---

## ðŸ”§ Syntax:

```js
function createUser(name, role) {
  return {
    name,
    role,
    greet() {
      console.log(`Hi, I'm ${name}, a ${role}.`);
    },
  };
}

const user1 = createUser("Nishant", "Engineer");
user1.greet(); // Hi, I'm Nishant, a Engineer.
```

---

## ðŸ” Key Characteristics

- Regular function that returns an object
- No use of `new`, `this`, or `prototype`
- Can use closures for **private data**
- More readable and safer for beginners
- Slightly less memory efficient (methods recreated for each object)

---

## ðŸ”’ Encapsulation Using Closures

```js
function createCounter() {
  let count = 0;

  return {
    increment() {
      count++;
      return count;
    },
    getCount() {
      return count;
    },
  };
}

const counter = createCounter();
counter.increment(); // 1
counter.getCount(); // 1
```

âœ… `count` is private â€” inaccessible from outside.

---

## ðŸ§ª Comparison: Factory vs Constructor

| Feature          | Factory Pattern           | Constructor Pattern       |
| ---------------- | ------------------------- | ------------------------- |
| Uses `new`?      | âŒ No                     | âœ… Yes                    |
| Uses `this`?     | âŒ No                     | âœ… Yes                    |
| Return value?    | âœ… Explicit (`return {}`) | ðŸš« Implicit (`this`)      |
| Prototypes used? | âŒ Usually not            | âœ… Yes (memory optimized) |
| Private data?    | âœ… Easy via closure       | âŒ Not built-in           |
| Memory usage     | âš ï¸ Higher per object      | âœ… Shared via prototype   |

---

## ðŸ”¥ Interview Talking Points

- "Factory functions are flexible, readable, and great for creating objects without needing to understand `this` or `new`."
- "They are ideal for encapsulating private data using closures."
- "One drawback is that they don't use prototypes, so methods are duplicated per object unless abstracted."
- "Factory Pattern is popular in functional programming style and modern React-style modular design."

---

## ðŸ“¦ Real-World Use Cases

- Creating configurable UI elements (buttons, cards)
- Making utility libraries
- Private state management (custom counters, forms, etc.)
- Service objects (e.g., auth service)

---

## âš ï¸ Pitfall

Avoid unnecessary method duplication:

```js
function createUser(name) {
  return {
    name,
    greet: () => `Hi ${name}`, // âŒ recreated every time
  };
}
```

âœ… Instead, extract shared methods to a separate object or use prototype if needed.

---

## ðŸ§µ Summary (1-liner):

> The Factory Pattern in JS is a function-based way to create objects without `new`, and is great for flexibility, encapsulation, and readability.
