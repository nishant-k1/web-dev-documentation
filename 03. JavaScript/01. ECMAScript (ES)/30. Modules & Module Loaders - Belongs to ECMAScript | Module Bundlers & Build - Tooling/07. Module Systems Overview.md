# Modules System vs Module Bundlers

The module system (like ES6 import/export or CommonJS require) provides a way to organize and manage your code by splitting it into smaller, reusable modules. However, the module system itself does not combine these files into a single file or optimize them for deployment.

`Development`: Use a module system like ES Modules to write clean and maintainable code.
`Build`: Use a bundler like Webpack or Vite to prepare your application for production by bundling, optimizing, and ensuring compatibility across browsers.

1. **Module System**

   - A module system defines how code is organized, shared, and reused in smaller, modular pieces within a JavaScript application. It determines how modules are imported and exported.
   - Key Features:
     1. Modularize code for maintainability and reusability.
     2. Enable dependency management within applications.
     3. The module system itself does not bundle or optimize files.
   - Common Module Systems

     1. CommonJS (CJS)

        - Used in Node.js.
        - Modules are loaded synchronously.

     2. ES Modules (ESM)

        - Standardized in ECMAScript 2015 (ES6+).
        - Can be used in both browsers and Node.js (with .mjs extension or "type": "module" in package.json).

     3. AMD (Asynchronous Module Definition):

        - Used in browsers before ES Modules.

2. **Bundler**

- A bundler is a build tool that processes your application and its dependencies, combining them into a single or multiple output files optimized for deployment.
- It also converts assets other than javascript files like images, htmls, pdfs, etc into modules and combines them into separate single files based the asset type
  eg: 1 file for js for multiple js modules, 1 file for 1 multiple html modules, 1 file for multiple css modules 1 file for images etc.
- It can handle JavaScript, CSS, images, HTML, and other assets, transforming and bundling them in various ways:

      1.  `JavaScript`: Bundlers combine all your JavaScript code (from multiple modules) into one or more output files. It can apply optimizations like tree-shaking (removing unused code) and minification (reducing file size).

      2.  `CSS`: Bundlers can collect and combine multiple CSS files into a single output file. This may include preprocessing like SASS or LESS compilation.

      3.  `Images`: Bundlers can process image files (e.g., PNG, JPEG, SVG) and bundle them either into separate files or optimize them (e.g., compression) for efficient loading.

      4.  `HTML`: Bundlers can also handle HTML files. In some cases, HTML files are processed to include dynamic imports for assets or JavaScript, or to handle template engines.

      5.  `Other Assets`: Files like fonts, PDFs, or other static assets are processed and either bundled into separate files or linked in the HTML.

- Popular Bundlers

  1. Webpack:

     Highly configurable with loaders and plugins.
     Bundles JavaScript, CSS, images, and other assets.

  2. Vite:

     Focuses on fast development with ES Modules and native browser support.
     Uses Rollup under the hood for production builds.

  3. Rollup:

     Primarily used for library development.
     Optimized for tree-shaking and output size.

  4. Parcel:

     Zero-config bundler with fast builds.

- Key Responsibilities:

  1. Resolve Module Dependencies:

     Follows the import/export statements or require() calls to include necessary modules.

  2. Transform Code:

     Handles modern syntax (ES6+) and compiles it into browser-compatible versions using tools like Babel.

  3. Optimize Assets:

     Minifies JavaScript, CSS, and images.
     Performs tree-shaking (removes unused code).

  4. Output Bundles:

     Creates a single or multiple files, often optimized for production.

- Example Workflow:
  1. Input: A project with multiple JS files using ES Modules.
  2. Output: A single bundled file (e.g., bundle.js) ready for the browser.

## Summary of Module System vs Bundlers

`Module Systems (e.g., ES6 Modules)`: Handle how code is split into and loaded from separate files. They don't bundle or optimize.
`Bundlers (e.g., Webpack, Rollup)`: Combine multiple module files into one or more optimized files for faster and more efficient deployment.

## If you're not using Webpack or any other bundler, and you're relying solely on the native ES Module system or CommonJS, here's what happens

1. Importing and Exporting Assets (CSS, Images, HTML) Without a Bundler

   - JavaScript: Fully supported natively with ES Modules (import/export) and CommonJS (require/module.exports).
   - Non-JavaScript Assets (CSS, Images, HTML):
     1. `Native ES Modules`: Browsers and Node.js don't natively support importing non-JS files like CSS, images, or HTML as modules. These are not standard JavaScript module types.
     2. `CommonJS`: Similarly, require is designed for JavaScript and JSON, not for other assets.

## What Can You Do Without a Bundler

1. JavaScript Modules (ESM or CommonJS)
   You can import/export JavaScript files and JSON natively.
   Browsers support <script type="module"> for ES Modules, but only for JavaScript files.

2. CSS
   CSS can be linked traditionally in HTML
   There's no way to import CSS into JavaScript directly without a bundler. You must include it separately.

3. Images
   Use <img> tags in HTML or set the src attribute dynamically in JS:
   Dynamically, you can reference images via relative paths, but you need to ensure the image files are accessible in your project structure.

4. HTML Files
   You can't import/export HTML files into JavaScript directly. You can, however, fetch them using fetch or similar APIs if needed.

## Key Difference Without a Bundler

- The primary limitation is that assets are not treated as modules, and you cannot include them directly in your JavaScript code. This means:
  1. You can't "import" them like you do in Webpack.
  2. You must reference them explicitly in your project structure.

## Can You "Bundle" Without a Bundler?

- You cannot create a single bundled file that combines JavaScript, CSS, and other assets.
- The browser or runtime will load them as separate files (e.g., separate network requests for each script, CSS, or image).

## Bundler creates separate Bundles for Each Asset Type

1. JavaScript: Bundles all your JS modules into one or more files.
2. CSS: Combines all CSS into a single file (e.g., styles.css) using plugins like MiniCssExtractPlugin.
3. Images, Fonts, and Other Files: Typically copied or referenced as separate files, with optimized names (e.g., hashed filenames like logo.abc123.png).
4. HTML: If using html-webpack-plugin, generates or modifies an HTML file that includes the references to these bundles.
