# Prototype Chain

The **prototype chain** is the mechanism by which JavaScript looks up properties. If a property isn't found on an object, JavaScript follows the chain until it finds the property or reaches `null`.

---

## How Property Lookup Works

When you access a property on an object, JavaScript:

1. Looks on the object itself
2. If not found, looks at the object's prototype
3. If not found, looks at the prototype's prototype
4. Continues until `null` is reached

```javascript
const obj = {};
obj.toString(); // How does this work?

// Lookup process:
// 1. obj.toString? No
// 2. Object.prototype.toString? Yes! Found it.
```

---

## Example: Prototype Chain

```javascript
const grandparent = { a: 1 };
const parent = Object.create(grandparent);
parent.b = 2;
const child = Object.create(parent);
child.c = 3;

// Prototype chain: child → parent → grandparent → Object.prototype → null

console.log(child.c); // 3 (on child)
console.log(child.b); // 2 (on parent)
console.log(child.a); // 1 (on grandparent)
console.log(child.toString()); // "[object Object]" (on Object.prototype)
```

---

## Visualizing the Chain

```
child
  ↓ [[Prototype]]
parent
  ↓ [[Prototype]]
grandparent
  ↓ [[Prototype]]
Object.prototype
  ↓ [[Prototype]]
null
```

---

## Property Shadowing

If a property exists on both the object and its prototype, the object's property "shadows" the prototype's property:

```javascript
const proto = { name: "Proto" };
const obj = Object.create(proto);
obj.name = "Object";

console.log(obj.name); // "Object" (shadows proto.name)
delete obj.name;
console.log(obj.name); // "Proto" (now uses prototype)
```

---

## Setting vs Getting

- **Getting**: Follows the prototype chain
- **Setting**: Always sets on the object itself (never on prototype)

```javascript
const proto = { x: 1 };
const obj = Object.create(proto);

obj.x = 2; // Sets on obj, not proto
console.log(obj.x); // 2 (from obj)
console.log(proto.x); // 1 (unchanged)
```

---

## hasOwnProperty()

Use `hasOwnProperty()` to check if a property exists on the object itself (not inherited):

```javascript
const proto = { x: 1 };
const obj = Object.create(proto);
obj.y = 2;

obj.hasOwnProperty("x"); // false (inherited)
obj.hasOwnProperty("y"); // true (own property)
```

---

## Related Topics

- [02. Understanding Prototypes.md](./02.%20Understanding%20Prototypes.md) - What prototypes are
- [04. Object.create().md](<./04.%20Object.create().md>) - Creating with prototypes
- [09. Common Patterns and Use Cases.md](./09.%20Common%20Patterns%20and%20Use%20Cases.md) - Practical examples
