# Temporal Dead Zone (TDZ)

The **Temporal Dead Zone (TDZ)** is the period between entering a scope and the variable's declaration being processed. During TDZ, **you cannot access the variable** - attempting to do so throws a `ReferenceError`.

> üìñ **Detailed Coverage:** [Hoisting - TDZ Deep Dive](<../10. Execution Context, Hoisting, Scope and Closures/04.1. Hoisting.md#temporal-dead-zone-tdz---deep-dive>)

## What is TDZ?

TDZ affects your ability to **access declarations** before they are initialized:

```javascript
{
  // TDZ for 'x' starts here (entering the block)

  console.log(x); // ‚ùå ReferenceError: Cannot access 'x' before initialization

  let x = 10; // TDZ ends here - x can now be accessed

  console.log(x); // ‚úÖ 10
}
```

## Which Declarations Are Affected?

| Declaration Type | In TDZ? | Can Access Before Declaration? |
| ---------------- | ------- | ------------------------------ |
| `var`            | ‚ùå No   | ‚úÖ Yes (but `undefined`)       |
| `let`            | ‚úÖ Yes  | ‚ùå No (ReferenceError)         |
| `const`          | ‚úÖ Yes  | ‚ùå No (ReferenceError)         |
| `class`          | ‚úÖ Yes  | ‚ùå No (ReferenceError)         |
| `function`       | ‚ùå No   | ‚úÖ Yes (fully hoisted)         |
| `import`         | ‚úÖ Yes  | ‚ùå No (ReferenceError)         |

## How TDZ Affects Accessing Declarations

### 1. Basic TDZ Behavior

```javascript
// ‚ùå Cannot access before declaration
console.log(x); // ReferenceError: Cannot access 'x' before initialization
let x = 10;

// ‚úÖ Can access after declaration
let y = 20;
console.log(y); // 20
```

### 2. TDZ vs `var` (No TDZ)

```javascript
// var - No TDZ, but returns undefined
console.log(a); // undefined (not an error)
var a = 10;

// let - TDZ, throws error
console.log(b); // ‚ùå ReferenceError
let b = 10;
```

### 3. TDZ in Block Scope

```javascript
{
  console.log(x); // ‚ùå ReferenceError (TDZ)
  let x = 10;
  console.log(x); // ‚úÖ 10 (TDZ ended)
}
```

### 4. TDZ with `typeof` (Interview Trap)

```javascript
// typeof is "safe" for undeclared variables
console.log(typeof undeclaredVar); // "undefined" ‚úÖ

// But NOT safe for TDZ variables!
{
  console.log(typeof x); // ‚ùå ReferenceError (TDZ)
  let x = 10;
}
```

**Key Point:** `typeof` cannot protect you from TDZ errors.

### 5. TDZ in Function Parameters

```javascript
// ‚úÖ Works - earlier parameter is initialized
function works(a, b = a) {
  console.log(a, b);
}
works(5); // 5, 5

// ‚ùå Fails - later parameter is in TDZ
function fails(a = b, b) {
  console.log(a, b);
}
fails(undefined, 5); // ‚ùå ReferenceError: Cannot access 'b' before initialization
```

### 6. TDZ in Same Line

```javascript
let x = x; // ‚ùå ReferenceError
// The right-hand side 'x' is evaluated first, but x is still in TDZ
```

## TDZ and Accessing Declarations - Key Rules

1. **TDZ starts** when you enter the scope (block/function/module)
2. **TDZ ends** when the declaration line is executed
3. **Accessing during TDZ** throws `ReferenceError`, not `undefined`
4. **TDZ applies** to `let`, `const`, `class`, and `import` declarations
5. **TDZ does NOT apply** to `var` and `function` declarations

## Practical Impact on Accessing Declarations

### Example 1: Cannot Access Before Declaration

```javascript
function example() {
  console.log(x); // ‚ùå ReferenceError (TDZ)
  let x = 10;
}
```

### Example 2: Can Access After Declaration

```javascript
function example() {
  let x = 10;
  console.log(x); // ‚úÖ 10 (TDZ ended)
}
```

### Example 3: TDZ in Loops

```javascript
for (let i = 0; i < 3; i++) {
  // Each iteration has its own 'i' with its own TDZ
  setTimeout(() => {
    console.log(i); // ‚úÖ Works - TDZ ended for this iteration's i
  }, 100);
}
```

## Important Notes

1. **TDZ is temporal** - It's about **when** you can access, not **where**
2. **TDZ prevents bugs** - Forces you to declare before use
3. **TDZ is scope-specific** - Each scope has its own TDZ
4. **TDZ ends at declaration** - Not at the end of the scope
5. **ReferenceError, not undefined** - TDZ throws an error, not undefined

## Summary

- **TDZ** = Period where you **cannot access** a declaration
- **Affects**: `let`, `const`, `class`, `import`
- **Does NOT affect**: `var`, `function`
- **Error**: `ReferenceError` (not `undefined`)
- **Purpose**: Prevents accessing uninitialized variables
